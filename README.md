# Mllisampler Logs
This repo contains a portion of the dataset (1-hour) collected by Millisampler tool to characterize data centers traffic at 1ms time-scale.
Please cite our IMC 2022 paper if you use this dataset:  

Ehab Ghabashneh, Yimeng Zhao, Cristian Lumezanu, Neil Spring, Srikanth Sundaresan, and Sanjay Rao. 2022. A microscopic view of bursts, buffer contention, and loss in data centers. In Proceedings of the 22nd ACM Internet Measurement Conference (IMC '22). Association for Computing Machinery, New York, NY, USA, 567–580.    

[![doi](https://img.shields.io/badge/DOI-10.1145%2F3517745.3561430-brightgreen)](https://dl.acm.org/doi/abs/10.1145/3517745.3561430)


## Filename Convention
We used the following convetion to name the log files:
```rackId_<RID>_hostId_<HID>```  
RID is an anonymized ID generated by us which used to identify rack.  
HID is an anonymized ID generated by us which used to identify hosts within a single rack \<RID\>.   

**All hosts within the same rack will have the same RID.**    
*Please note that hostId does NOT represent the number of servers in the rack.*

## Host-Log Format 
Each host log (i.e. `rackId_<RID>_hostId_<HID>`) corresponds to a millisampler run which consists of 2000 samples.

```
.
├── rack_id
├── server_hostname
├── tw_tasks
├── exp_timestamp: This is the start time of data collection process [<year>-<month>-<day>_<hour>-<min>-<sec>]. This is NOT the sample time.
├── sampling_freq: This corresponds to the sampling interval used to collect data samples, it should 1000Hz (1ms) for this dataset.
├── connections: Each entry corresponds to the number of active connections per 1ms sample.
├── egressBytes: Each entry corresponds to the total number of bytes sent at egress per 1ms sample.
├── inCongestionExperiencedBytes: Each entry correspnds to the total number of bytes received at ingress with ECN marks per 1ms sample.
├── inRxmitBytes: Each entry corresponds to the total number of retransmitted bytes received at ingress per 1ms sample.
├── outRxmitBytes: Each entry corresponds to the total number of retransmitted bytes sent at egress per 1ms sample.
├── ingressBytes: Each entry corresponds to the total number of bytes received at ingress per 1ms sample.
└── burst_result: This contains burst properties for each bursts captured during the sampling period of 2000ms. 
    ├── traffic direction <ingress or egress>: for this data set we only look at ingress bursts.
        ├── sample timestamp: This is the start time of collecting this run.
            ├**list of burst properties per burst**
            ├── Length: burst length in ms.
            ├── Position: burst index relative to the run. 
            ├── avgConnections: average number of connections during the burst interval [Position - Position+Length]. 
            ├── maxConnections: Maximum number of connections reached during burst interval.
            ├── maxConnAfterBurst: Maximum number of connections 1-2ms after the burst ended.
            ├── ingressVol: The total ingress volume during burst interval. 
            ├── ingressHeightP95: Ingress bytes at P95 of the burst interval.
            ├── ingressMax: The maximum ingress bytes reached during burst. 
            ├── ingressAfterBurst: The total ingress bytes 1-2ms after the burst ended. 
            ├── ingressRetxVol: The total retransmitted volume at ingress during burst interval.
            ├── ingressRetxAfterBurst: The total retransmitted volume at ingress 1-2ms after the burst ended. 
            ├── FirstRetxPosition: The first sample during the burst which experienced retransmission.
            ├── LastRetxPosition:The last sample during the burst which experienced retransmission.
            ├── ecnVol: The total ecn marked bytes at ingress during burst interval                                          
            ├── ecnP90: Ecn marked  bytes at P90 of the burst interval. 
            ├── ecnP99: Ecn marked  bytes at P99 of the burst interval                                                                                                                                            └── ecnAfterBurst: The total ecn marked bytes at ingress 1-2ms after the burst ended                                                                                                                                   
                                                                                                                                                                                                     
```

## Contact
For any questions, please feel free to contact Ehab Ghabashneh (eghabash@purdue.edu).

## License
Distributed under the MIT License. See LICENSE.txt for more information.
